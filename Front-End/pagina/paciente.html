<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Website Title -->
    <title>UHospital</title>
    
    <!-- Styles -->
    <link href="https://fonts.googleapis.com/css?family=Raleway:400,400i,600,700,700i&amp;subset=latin-ext" rel="stylesheet">
    <link href="css/bootstrap.css" rel="stylesheet">
    <link href="css/fontawesome-all.css" rel="stylesheet">
    <link href="css/swiper.css" rel="stylesheet">
	<link href="css/magnific-popup.css" rel="stylesheet">
	<link href="css/styles.css" rel="stylesheet">
	
	<!-- Favicon  -->
    <link rel="icon" href="images/usac.png">

    <!--===============================================================================================-->
        <link rel="stylesheet" type="text/css" href="../Tablas/fonts/font-awesome-4.7.0/css/font-awesome.min.css">
    <!--===============================================================================================-->
        <link rel="stylesheet" type="text/css" href="../Tablas/vendor/animate/animate.css">
    <!--===============================================================================================-->
        <link rel="stylesheet" type="text/css" href="../Tablas/vendor/select2/select2.min.css">
    <!--===============================================================================================-->
        <link rel="stylesheet" type="text/css" href="../Tablas/vendor/perfect-scrollbar/perfect-scrollbar.css">
    <!--===============================================================================================-->
        <link rel="stylesheet" type="text/css" href="../Tablas/css/util.css">
        <link rel="stylesheet" type="text/css" href="../Tablas/css/main.css">
        <link rel="stylesheet" type="text/css" href="../login/css/main.css">
    <!--===============================================================================================-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.4.1/jspdf.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/2.3.5/jspdf.plugin.autotable.min.js"></script>

        <script>
            if(localStorage.getItem('tipo4') != 'paciente'){
                localStorage.removeItem('especialidad')
                window.location.href="../login/login.html"
            }
        </script>
    </head>
    <body data-spy="scroll" data-target=".fixed-top">
    
    <!-- Preloader -->
	<div class="spinner-wrapper">
        <div class="spinner">
            <div class="bounce1"></div>
            <div class="bounce2"></div>
            <div class="bounce3"></div>
        </div>
    </div>
    <!-- end of preloader -->
    

    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-dark navbar-custom fixed-top">
        <!-- Text Logo - Use this if you don't have a graphic logo -->
        <!-- <a class="navbar-brand logo-text page-scroll" href="index.html">Evolo</a> -->

        <!-- Image Logo -->
        <a class="navbar-brand logo-image" href="paciente.html" style="font-size: 40px; text-decoration: none; font-style:initial;"><span class="turquoise Utitulo">U</span><span class="titulo">Hospital</span></a>
        
        <!-- Mobile Menu Toggle Button -->
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarsExampleDefault" aria-controls="navbarsExampleDefault" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-awesome fas fa-bars"></span>
            <span class="navbar-toggler-awesome fas fa-times"></span>
        </button>
        <!-- end of mobile menu toggle button -->

        <div class="collapse navbar-collapse" id="navbarsExampleDefault">
            <ul class="navbar-nav ml-auto">
                <li class="nav-item">
                    <a class="nav-link page-scroll" href="#inicio">Inicio<span class="sr-only">(current)</span></a>
                </li>
                <li class="nav-item dropdown">
                    <a class="nav-link page-scroll" href="#cita">Citas</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link page-scroll" href="#medicamento">Comprar Medicamentos</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link page-scroll" href="#pedido">Pedido</a>
                </li>
                <li class="nav-item">
                    <a onclick="cerrarSesionPac()" class="btn-login page-scroll" href="#cerrar">Cerrar Sesión</a>
                </li>
            </ul>
        </div>
    </nav> <!-- end of navbar -->
    <!-- end of navigation -->

    <header id="inicio" class="header container-back">
        <div class="header-content basic-1">
            <div class="container">
                <div class="">
                    <div class="col-lg-6" style="margin-top: -160px;">
                        <div class="text-container">
                            <h1><span class="turquoise">I</span>nformación</h1>
                        </div> <!-- end of text-container -->
                    </div> <!-- end of col -->
                </div> <!-- end of row -->
            </div> <!-- end of container -->
            <div class="cards-Info">
                <div class="container">
                    <div class="row">
                        <div class="col-lg-12">
                            <!-- Card -->
                            <div class="card">
                                <div class="card-body">
                                    <h3 class="card-title"><span class="turquoise">Personal</span></h3>
                                    <h4 style="margin-top: 0px;">Nombre:</h4><input style="margin-top: -29px; margin-left: 100px; padding-bottom: 0.0625rem; color: #626262; font-size: 20.7px; background: transparent; height: 30px;" id="nameP" readonly>
                                    <h4 style="margin-top: 5px;">Apellido:</h4><input style="margin-top: -29px; margin-left: 103px; padding-bottom: 0.0625rem; color: #626262; font-size: 20.7px; background: transparent; height: 30px;" id="lastP" readonly>
                                    <h4 style="margin-top: 5px;">Usuario:</h4><input style="margin-top: -29px; margin-left: 95px; padding-bottom: 0.0625rem; color: #626262; font-size: 20.7px; background: transparent; height: 30px;" id="userP" readonly>
                                    <h4 style="margin-top: 5px;">Fecha de Nacimiento:</h4><input type="date" style="margin-top: -29px; margin-left: 235px; padding-bottom: 0.0625rem; color: #626262; font-size: 20.7px; background: transparent; height: 30px;" id="dateP" readonly>
                                    <input type="password" style="visibility: hidden; margin-top: -29px; margin-left: 235px; padding-bottom: 0.0625rem; color: transparent; font-size: 20.7px; background: transparent; height: 30px;" id="passP" readonly>
                                    <input type="text" style="visibility: hidden; margin-top: -29px; margin-left: 235px; padding-bottom: 0.0625rem; color: transparent; font-size: 20.7px; background: transparent; height: 30px;" id="celuP" readonly>
                                    <input type="text" style="visibility: hidden; margin-top: -29px; margin-left: 235px; padding-bottom: 0.0625rem; color: transparent; font-size: 20.7px; background: transparent; height: 30px;" id="gensP" readonly>
                                    <br>
                                    <script>
                                        fetch(`http://35.222.105.198:5000/buscartipousuario/${localStorage.getItem("user4")}`)
                                        .then(response => response.json())
                                        .then(data => {
                                            document.getElementById("nameP").value = `${data.nombre}`
                                            document.getElementById("lastP").value = `${data.apellido}`
                                            document.getElementById("userP").value = `${data.usuario}`
                                            document.getElementById("dateP").value = `${data.fecha}`
                                            document.getElementById("passP").value = `${data.password}`
                                            document.getElementById("celuP").value = `${data.telefono}`
                                            document.getElementById("gensP").value = `${data.genero}`
                                        })
                                    </script>
                                    <a onclick="formedit(`${document.getElementById('nameP').value}`,`${document.getElementById('lastP').value}`,`${document.getElementById('userP').value}`,`${document.getElementById('passP').value}`,`${document.getElementById('dateP').value}`,`${document.getElementById('celuP').value}`,`${document.getElementById('gensP').value}`,'')" type="button" class="btn-solid-reg popup-with-move-anim" href="#details-lightbox-1">Modificar Perfil</a>
                                </div>
                            </div>
                            <!-- end of card -->
                        </div> <!-- end of col -->
                    </div> <!-- end of row -->
                </div> <!-- end of container -->
            </div> <!-- end of cards-1 -->
        </div> <!-- end of header-content -->
    </header> <!-- end of header -->

    <!-- Details Lightbox 1 -->
	<div id="details-lightbox-1"  class="lightbox-basic zoom-anim-dialog mfp-hide">
        <div class="container">
            <div class="row">
                <button title="Close (Esc)" type="button" class="mfp-close x-button">×</button>
                <div class="col-lg-4">
                    <form id="infoForm">
                        <h2 class="card-title"><span class="turquoise">Perfil</span></h2>
                        <br>
                        <div class="form-group">
                            <input type="text" class="form-control-input " id="EditnameP">
                            <label class="label-placeholder" for="nameU">Nombre</label>
                        </div>
                        <div class="form-group">
                            <input type="text" class="form-control-input" id="EdituserP">
                            <label class="label-placeholder" for="dateborn">Usuario</label>
                        </div>
                        <div class="form-group">
                            <input type="date" class="form-control-input" id="EditdateP">
                            <label class="label-placeholder" for="user">Fecha de nacimiento</label>
                        </div>
                    </form>
                </div> <!-- end of col -->
                <div class="col-lg-4">
                    <!-- Contact Form -->
                    <form id="contactForm">
                        <h2 class="card-title"></h2>
                        <br><br><br>
                        <div class="form-group">
                            <input type="text" class="form-control-input" id="EditlastP">
                            <label class="label-placeholder" for="nameU">Apellido</label>
                        </div>
                        <div class="form-group">
                            <input type="password" class="form-control-input" id="EditpassP">
                            <label class="label-placeholder" for="special">Contraseña</label>
                        </div>
                        <div class="form-group">
                            <input type="text" class="form-control-input" id="EditceluP">
                            <label class="label-placeholder" for="special">Teléfono</label>
                        </div>
                    </form>
                    <input type="text" style="visibility: hidden; margin-top: -29px; margin-left: 235px; padding-bottom: 0.0625rem; color: transparent; font-size: 20.7px; background: transparent; height: 30px;" id="EditgensP" readonly>
                    <!-- end of contact form -->
                </div> <!-- end of col -->
                <div class="col-lg-4" style="margin-left: -630px; margin-top: 290px;">
                    <a class="btn-solid-reg page-scroll mfp-close x-button" onclick="modificarperfil(`${localStorage.getItem('user4')}`,'paciente',`${document.getElementById('EditnameP').value}`,`${document.getElementById('EditlastP').value}`,`${document.getElementById('EditdateP').value}`,`${document.getElementById('EditgensP').value}`,`${document.getElementById('EdituserP').value}`,`${document.getElementById('EditpassP').value}`,'',`${document.getElementById('EditceluP').value}`)" href="#inicio">Modificar</a>
                </div> <!-- end of col -->
            </div> <!-- end of row -->
        </div> <!-- end of container -->
    </div> <!-- end of lightbox-basic -->
    <!-- end of details lightbox 1 -->

    <header id="cita" class="header container-back">
        <div class="header-content basic-1">
            <div class="container">
                <div class="">
                    <div class="col-lg-6" style="margin-top: -160px;">
                        <div class="text-container">
                            <h1><span class="turquoise">C</span>itas</h1>
                        </div> <!-- end of text-container -->
                    </div> <!-- end of col -->
                </div> <!-- end of row -->
            </div> <!-- end of container -->
            <div class="cards-Info" style="margin-top: -60px;">
                <div class="container">
                    <div class="row">
                        <div class="col-lg-12">
                            <!-- Card -->
                            <div class="card" style="width: 55%;">
                                <div class="card-body">
                                    <h3 class="card-title"><span class="turquoise">Solicita una cita</span></h3>
                                    <!-- Contact Form -->
                                    <form id="contactForm">
                                        <div class="form-group">
                                            <input type="date" min="2021-05-04" class="form-mod-input" id="dateC" required>
                                            <label class="label-placeholder" for="dateC">Fecha</label>
                                            <script>
                                                let fecha = new Date();
                                                let mes = '';
                                                let dia = '';
                                                if(fecha.getMonth()+1 < 10) {mes = '0'+(fecha.getMonth()+1)}else{mes = (fecha.getMonth()+1)}
                                                if(fecha.getDate() < 10) {dia = '0'+fecha.getDate()}else{dia = fecha.getDate()}
                                                document.getElementById('dateC').value = fecha.getFullYear()+"-"+mes+"-"+dia
                                            </script>
                                        </div>
                                        <div class="form-group">
                                            <input type="time" class="form-mod-input" id="timeC" required>
                                            <label class="label-placeholder" for="timeC">Hora</label>
                                            <script>
                                                let tiempo = new Date();
                                                let hora = '';
                                                let minuto = '';
                                                if(tiempo.getHours() < 10) {hora = '0'+tiempo.getHours()}else{hora = tiempo.getHours()}
                                                if(tiempo.getMinutes() < 10) {minuto = '0'+tiempo.getMinutes()}else{minuto = tiempo.getMinutes()}
                                                document.getElementById('timeC').value = hora+":"+minuto
                                            </script>
                                        </div>
                                        <div class="form-group">
                                            <textarea class="form-mod-textarea" id="motivoC" required></textarea>
                                            <label class="label-placeholder" for="motivoC">Motivo</label>
                                        </div>
                                        <div class="button-wrapper">
                                            <a class="btn-solid-lg page-scroll" onclick="enviarSolicitud(`${document.getElementById('dateC').value}`,`${document.getElementById('timeC').value}`,`${document.getElementById('motivoC').value}`)" href="#send">Solicitar</a>
                                        </div>
                                    </form>
                                    <!-- end of contact form -->
                                </div>
                            </div>
                            <!-- end of card -->
                            <div class="card" style="margin-top: -471px; margin-left: 60%; width: 30%;">
                                <div class="card-body">
                                    <h3 class="card-title"><span class="turquoise">Estado de solicitud</span></h3>
                                    <!-- Contact Form -->
                                    <form id="contactForm">
                                        <div class="form-group">
                                            <input type="date" min="2021-05-04" class="form-mod-input" id="date" readonly>
                                            <label class="label-placeholder" for="date">Fecha</label>
                                        </div>
                                        <div class="form-group">
                                            <input type="time" class="form-mod-input" id="time" readonly>
                                            <label class="label-placeholder" for="time">Hora</label>
                                        </div>
                                        <div class="form-group">
                                            <input type="text" class="form-mod-input" id="motivo" readonly>
                                            <label class="label-placeholder" for="time">Motivo</label>
                                        </div>
                                        <div>
                                            <input id="rech" class="btn-solid-rech" style="width: 120px;" disabled></input>
                                        </div>
                                        <div style="margin-top: -22px;">
                                            <input id="acc" class="btn-solid-acc" style="width: 120px;" disabled></input>
                                        </div>
                                        <div style="margin-top: -22px; margin-bottom: 5%;">
                                            <input id="pend" class="btn-solid-pend" style="width: 120px;" disabled></input>
                                        </div>
                                        <div id="nueva" class="button-wrapper">
                                        </div>
                                    </form>
                                    <!-- end of contact form -->
                                    <script>
                                        fetch(`http://35.222.105.198:5000/buscarcita/${localStorage.getItem("user4")}`)
                                        .then(responseC => responseC.json())
                                        .then(dataC => {
                                            if(dataC.cita != "false") {
                                                document.getElementById('date').value = `${dataC.fecha}`
                                                document.getElementById('time').value = `${dataC.hora}`
                                                document.getElementById('motivo').value = `${dataC.motivo}`
                                                if(dataC.estado == 'Rechazado'){
                                                    document.getElementById('rech').value = `${dataC.estado}`
                                                    document.getElementById('nueva').innerHTML = `<a class="btn-solid-lg page-scroll" onclick="nuevaSolicitud()" href="#send">Nueva Solicitud</a>`
                                                }
                                                if(dataC.estado == 'Aceptado'){
                                                    document.getElementById('acc').value = `${dataC.estado}`
                                                }
                                                if(dataC.estado == 'Pendiente'){
                                                    document.getElementById('pend').value = `${dataC.estado}`
                                                }
                                            }
                                        })
                                    </script>
                                </div>
                            </div>
                            <!-- end of card -->
                        </div> <!-- end of col -->
                    </div> <!-- end of row -->
                </div> <!-- end of container -->
            </div> <!-- end of cards-1 -->
        </div> <!-- end of header-content -->
    </header> <!-- end of header -->

    <header id="medicamento" class="header container-back">
        <div class="header-content basic-1">
            <div class="container">
                <div class="row">
                    <div class="col-lg-6" style="margin-top: -150px;">
                        <div class="text-container">
                            <h1><span class="turquoise">M</span>edicamentos</h1>
                        </div> <!-- end of text-container -->
                    </div> <!-- end of col -->
                    <div class="cards-2" style="margin-top: -150px;">
                        <div class="container">
                            <div class="row">
                                <div id="listMed" class="col-lg-12" style="margin-top: 100px;">
                                </div> <!-- end of col -->
                            </div> <!-- end of row -->
                        </div> <!-- end of container -->
                    </div> <!-- end of cards-2 -->
                    <!-- end of services -->
                </div> <!-- end of row -->
            </div> <!-- end of container -->
        </div> <!-- end of header-content -->
    </header> <!-- end of header -->

    <header id="pedido" class="header container-back">
        <div class="header-content basic-1">
            <div class="container">
                <div class="row">
                    <div id="tabDoc" class="col-lg-6" style="margin-top: -160px;">
                        <div class="text-container">
                            <h1><span class="turquoise">P</span>edido</h1>
                        </div> <!-- end of text-container -->
                    </div> <!-- end of col -->
                    <div class="container-table100">
                        <div class="wrap-table100">
                            <div class="table100 ver2 m-b-110">
                                <div class="table100-head">
                                    <table>
                                        <thead>
                                            <tr class="row100 head">
                                                <th class="cell100 columnN">Nombre</th>
                                                <th class="cell100 columnP">Precio</th>
                                                <th class="cell100 columnC">Cantidad</th>
                                                <th class="cell100 columnP">Subtotal</th>
                                                <th class="cell100 column5"></th>
                                            </tr>
                                        </thead>
                                    </table>
                                </div>
                                <div>
                                    <div class="table100-body js-pscroll">
                                        <table>
                                            <tbody id="tablepedido">
                                                <!--script medL.js-->
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                            <div id="cargaMDoc" class="header-content basic-1" style="margin-top: -150px;">
                                <div class="container">
                                    <div class="row">
                                        <div class="col-lg-6" style="margin-top: -90px;">
                                            <div class="form-group">
                                                <input class="form-control-input" value="Total Gastado: Q " style="font-size: 25pt;" readonly/>
                                                <input id="totalG" class="form-control-input" style="font-size: 25pt; margin-top: -57px; margin-left: 260px;" readonly/>
                                                <a class="btn-solid-reg page-scroll" onclick="comprar(`${localStorage.getItem('user4')}`,`${document.getElementById('totalG').value}`,`${document.getElementById('nameP').value+' '+document.getElementById('lastP').value}`)" href="#comp">Registrar Pedido</a>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div> <!-- end of row -->
            </div> <!-- end of container -->
        </div> <!-- end of header-content -->
    </header> <!-- end of header -->

    <!-- Scripts -->
    <script src="js/informacion.js"></script><!-- Informacion -->
    <script src="js/jquery.min.js"></script> <!-- jQuery for Bootstrap's JavaScript plugins -->
    <script src="js/popper.min.js"></script> <!-- Popper tooltip library for Bootstrap -->
    <script src="js/bootstrap.min.js"></script> <!-- Bootstrap framework -->
    <script src="js/jquery.easing.min.js"></script> <!-- jQuery Easing for smooth scrolling between anchors -->
    <script src="js/swiper.min.js"></script> <!-- Swiper for image and text sliders -->
    <script src="js/jquery.magnific-popup.js"></script> <!-- Magnific Popup for lightboxes -->
    <script src="js/validator.min.js"></script> <!-- Validator.js - Bootstrap plugin that validates forms -->
    <script src="js/scripts.js"></script> <!-- Custom scripts -->
    <script src="js/pacCita.js"></script>
    <script src="js/funciones.js"></script><!-- Funciones -->
    <script src="js/medL.js"></script>
    <script src="js/lsCompra.js"></script>
</body>
</html>